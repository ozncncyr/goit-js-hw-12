import{S as D,i as P,a as k}from"./assets/vendor-D5mnuR-h.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(e){if(e.ep)return;e.ep=!0;const a=n(e);fetch(e.href,a)}})();let E,r=1,c;const S=document.querySelector(".gallery-form"),u=document.querySelector("#gallery-list"),l=document.querySelector("#loadMoreBtn"),b=t=>{const s=document.createElement("li");s.classList.add("gallery-item"),s.dataset.source=t.largeImageURL;const n=document.createElement("a");n.classList.add("gallery-link"),n.style.color="black",n.href=t.largeImageURL;const o=document.createElement("img");o.src=t.webformatURL,o.alt=t.tags,o.width=360,o.height=200;const e=document.createElement("div");e.classList.add("content");const a=document.createElement("div");a.classList.add("info");const i=document.createElement("h5");i.classList.add("key"),i.textContent="Likes:",a.appendChild(i);const h=document.createElement("p");h.classList.add("value"),h.textContent=t.likes,a.appendChild(h);const d=document.createElement("div");d.classList.add("info");const y=document.createElement("h5");y.classList.add("key"),y.textContent="Views:",d.appendChild(y);const g=document.createElement("p");g.classList.add("value"),g.textContent=t.views,d.appendChild(g);const m=document.createElement("div");m.classList.add("info");const f=document.createElement("h5");f.classList.add("key"),f.textContent="Comments:",m.appendChild(f);const L=document.createElement("p");L.classList.add("value"),L.textContent=t.comments,m.appendChild(L);const p=document.createElement("div");p.classList.add("info");const C=document.createElement("h5");C.classList.add("key"),C.textContent="Downloads:",p.appendChild(C);const v=document.createElement("p");v.classList.add("value"),v.textContent=t.downloads,p.appendChild(v),e.appendChild(a),e.appendChild(d),e.appendChild(m),e.appendChild(p),n.appendChild(o),s.appendChild(e),s.appendChild(n),u.appendChild(s)};let x=new D(".gallery li > a",{captionsData:"alt",captionDelay:350});const w=(t,s)=>new Promise(async(n,o)=>{if(console.log(`Search: ${t} | Page: ${s}`),s>c)r=1,s=1;else{E=t;const e=await k.get("https://pixabay.com/api/",{params:{key:"49404317-b3e2234da46703b9b16558004",q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,page:s,per_page:40}});c=Math.ceil(parseFloat(e.data.totalHits/e.data.hits.length)),console.log(`Searched Photo: ${E} 
Current Page: ${r} 
Total Pages: ${c}`),e.data.hits.length===0&&P.error({position:"topRight",color:"red",message:"Sorry, there are no images matching your search query. Please, try again!"}),r<c&&(l.style.display="block"),n(e)}});S.addEventListener("submit",async t=>{t.preventDefault(),r=1,l.style.display="display",u.innerHTML="";const s=t.target.elements.search.value;if(s==="")return P.warning({position:"topRight",message:"Please enter a search query!"}),l.style.display="none",!1;{const n=document.createElement("li");n.classList.add("gallery-item");const o=document.createElement("span");o.classList.add("loader"),n.appendChild(o),n.style.textAlign="center",n.style.border="none",u.appendChild(n);const a=(await w(s,r)).data.hits;u.innerHTML="",a.forEach(i=>{b(i)}),x.refresh(),t.target.reset()}});l.addEventListener("click",async t=>{r++,(await w(E,r)).data.hits.forEach(e=>{b(e)});const o=document.querySelector(".gallery img");if(o){const e=o.getBoundingClientRect().height;window.scrollBy({top:e*4.3,behavior:"smooth"})}x.refresh(),r===c&&(l.removeEventListener("click",w),P.error({position:"topRight",color:"blue",message:"We're sorry, but you've reached the end of search results!"}),l.style.display="none")});
//# sourceMappingURL=index.js.map
